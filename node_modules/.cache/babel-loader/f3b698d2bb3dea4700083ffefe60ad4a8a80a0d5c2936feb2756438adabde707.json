{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Liza\\\\Desktop\\\\bnet24_front_not_bootstrap\\\\src\\\\pages\\\\SignInPage\\\\SignInPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthHeader, ButtonComponent, CardComponent, InputComponent } from \"../../components\";\nimport { signIn } from \"../../utils/api/user\";\nimport validator from 'validator';\nimport \"./SignInPage.scss\";\nimport RememberMeComponent from \"../../components/RememberMeComponent/RememberMeComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SignInPage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const user = useSelector(state => state.user);\n  const isLogin = useSelector(state => state.user.isLogin);\n\n  // const [email, setEmail] = useState(\"\")\n  // const [password, setPassword] = useState(\"\")\n\n  // const [isValidE, setIsValidE] = useState(true)\n  // const [isValidP, setIsValidP] = useState(true)\n  // const [isEmailValid, setIsEmailValid] = useState(true);\n\n  // const handleEmailBlur = (event) => {\n  //     setIsValidE(event.target.value.length > 0);\n  //     setIsEmailValid(validator.isEmail(event.target.value));\n  // }\n  // const handlePasswordBlur = (event) => {\n  //     setIsValidP(event.target.value.length > 0);\n  // }\n\n  // const handleEmailChange = (event) => {\n  //     setEmail(event.target.value);\n  // }\n\n  // const handlePasswordChange = (event) => {\n  //     setPassword(event.target.value);\n  // }\n\n  const [input, setInput] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState({\n    email: '',\n    password: ''\n  });\n  const onInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInput(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    validateInput(e);\n  };\n  const validateInput = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setError(prev => {\n      const stateObj = {\n        ...prev,\n        [name]: \"\"\n      };\n      switch (name) {\n        case \"email\":\n          if (!value) {\n            stateObj[name] = \"Поле не может быть пустым\";\n          } else if (value.trim() === \"\") {\n            stateObj[name] = \"Поле не может быть пустым\";\n          } else if (!validator.isEmail(value)) {\n            stateObj[name] = \"Некорректный E-mail\";\n          }\n          break;\n        case \"password\":\n          if (!value) {\n            stateObj[name] = \"Поле не может быть пустым\";\n          } else if (input.confirmPassword && value !== input.confirmPassword) {\n            stateObj[\"confirmPassword\"] = \"Пароли не совпадают\";\n          } else {\n            stateObj[\"confirmPassword\"] = input.confirmPassword ? \"\" : error.confirmPassword;\n          }\n          break;\n        default:\n          break;\n      }\n      return stateObj;\n    });\n  };\n  const handleAuth = () => {\n    dispatch(signIn(input.email, input.password));\n  };\n  function handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      event.stopPropagation();\n      handleAuth;\n    }\n  }\n  useEffect(() => {\n    if (isLogin) {\n      navigate(\"/\");\n    }\n  }, [isLogin, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signInPage\",\n    children: /*#__PURE__*/_jsxDEV(CardComponent, {\n      children: [/*#__PURE__*/_jsxDEV(AuthHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputComponent, {\n        type: \"text\",\n        name: \"email\",\n        value: input.email,\n        onBlur: validateInput,\n        placeholder: \"E-mail\",\n        onChange: onInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), error.email && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message-signUp\",\n        children: error.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(InputComponent, {\n        style: {\n          marginTop: \"10px\"\n        },\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        value: input.password,\n        onChange: onInputChange,\n        onBlur: validateInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), error.password && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message-signUp\",\n        children: error.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 36\n      }, this), user.error && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error-message\",\n        children: \"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 E-mail \\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(ButtonComponent, {\n        title: \"\\u0412\\u043E\\u0439\\u0442\\u0438\",\n        onClick: handleAuth,\n        on: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RememberMeComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n_s(SignInPage, \"aUKZrpp/pZ5u0tcuCjdhEAmJZ8s=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n_c = SignInPage;\nvar _c;\n$RefreshReg$(_c, \"SignInPage\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useDispatch","useSelector","useNavigate","AuthHeader","ButtonComponent","CardComponent","InputComponent","signIn","validator","RememberMeComponent","jsxDEV","_jsxDEV","SignInPage","_s","dispatch","navigate","user","state","isLogin","input","setInput","email","password","error","setError","onInputChange","e","name","value","target","prev","validateInput","stateObj","trim","isEmail","confirmPassword","handleAuth","handleKeyDown","event","key","preventDefault","stopPropagation","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onBlur","placeholder","onChange","style","marginTop","title","onClick","on","_c","$RefreshReg$"],"sources":["C:/Users/Liza/Desktop/bnet24_front_not_bootstrap/src/pages/SignInPage/SignInPage.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthHeader, ButtonComponent, CardComponent, InputComponent } from \"../../components\";\r\nimport { signIn } from \"../../utils/api/user\";\r\nimport validator from 'validator';\r\n\r\n\r\nimport \"./SignInPage.scss\";\r\nimport RememberMeComponent from \"../../components/RememberMeComponent/RememberMeComponent\";\r\n\r\nexport const SignInPage = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const user = useSelector((state) => state.user)\r\n    const isLogin = useSelector((state) => state.user.isLogin)\r\n\r\n    // const [email, setEmail] = useState(\"\")\r\n    // const [password, setPassword] = useState(\"\")\r\n\r\n    // const [isValidE, setIsValidE] = useState(true)\r\n    // const [isValidP, setIsValidP] = useState(true)\r\n    // const [isEmailValid, setIsEmailValid] = useState(true);\r\n\r\n    // const handleEmailBlur = (event) => {\r\n    //     setIsValidE(event.target.value.length > 0);\r\n    //     setIsEmailValid(validator.isEmail(event.target.value));\r\n    // }\r\n    // const handlePasswordBlur = (event) => {\r\n    //     setIsValidP(event.target.value.length > 0);\r\n    // }\r\n\r\n    // const handleEmailChange = (event) => {\r\n    //     setEmail(event.target.value);\r\n    // }\r\n\r\n    // const handlePasswordChange = (event) => {\r\n    //     setPassword(event.target.value);\r\n    // }\r\n\r\n    const [input, setInput] = useState({\r\n        email: '',\r\n        password: ''\r\n      });\r\n     \r\n      const [error, setError] = useState({\r\n        email: '',\r\n        password: ''\r\n      })\r\n     \r\n      const onInputChange = e => {\r\n        const { name, value } = e.target;\r\n        setInput(prev => ({\r\n          ...prev,\r\n          [name]: value\r\n        }));\r\n        validateInput(e);\r\n      }\r\n     \r\n      const validateInput = e => {\r\n        let { name, value } = e.target;\r\n        setError(prev => {\r\n          const stateObj = { ...prev, [name]: \"\" };\r\n     \r\n          switch (name) {\r\n            \r\n            case \"email\":\r\n              if (!value) {\r\n                stateObj[name] = \"Поле не может быть пустым\";\r\n              } else if (value.trim() === \"\") {\r\n                stateObj[name] = \"Поле не может быть пустым\";\r\n              } else if (!validator.isEmail(value)) {\r\n                stateObj[name] = \"Некорректный E-mail\";\r\n              }\r\n              break;\r\n     \r\n            case \"password\":\r\n              if (!value) {\r\n                stateObj[name] = \"Поле не может быть пустым\";\r\n              } else if (input.confirmPassword && value !== input.confirmPassword) {\r\n                stateObj[\"confirmPassword\"] = \"Пароли не совпадают\";\r\n              } else {\r\n                stateObj[\"confirmPassword\"] = input.confirmPassword ? \"\" : error.confirmPassword;\r\n              } \r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n     \r\n          return stateObj;\r\n        });\r\n      }\r\n\r\n    const handleAuth = () => {\r\n        dispatch(signIn(input.email, input.password))\r\n    }\r\n\r\n    function handleKeyDown(event) {\r\n        if (event.key === \"Enter\") {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          handleAuth;\r\n        }\r\n      }\r\n\r\n    useEffect(() => {\r\n        if (isLogin) {\r\n            navigate(\"/\")\r\n        }\r\n    }, [isLogin, navigate])\r\n\r\n    return (\r\n        <div className=\"signInPage\">\r\n            <CardComponent>\r\n                <AuthHeader />\r\n                <InputComponent \r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    value={input.email} \r\n                    onBlur={validateInput} \r\n                    placeholder=\"E-mail\" \r\n                    onChange={onInputChange} \r\n                />\r\n               {error.email && <div className=\"error-message-signUp\">{error.email}</div>}\r\n                <InputComponent \r\n                    style={{marginTop: \"10px\"}} \r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Пароль\" \r\n                    value={input.password} \r\n                    onChange={onInputChange}\r\n                    onBlur={validateInput} \r\n                />\r\n                {error.password && <div className=\"error-message-signUp\">{error.password}</div>}\r\n                {user.error && <span className=\"error-message\">Неверный E-mail или пароль</span>}\r\n                <ButtonComponent title=\"Войти\" onClick={handleAuth} on/>\r\n                <RememberMeComponent />\r\n            </CardComponent>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}